{"version":3,"file":"static/js/936.7da4b128.chunk.js","mappings":"+SAIMA,EAAU,mCACVC,EAAW,gCAGJC,EAAY,mCAAG,wGAElBC,EAFkB,UAETF,EAFS,sCAE6BD,GAF7B,SAGDI,MAAMD,GAHL,cAGlBE,EAHkB,gBAILA,EAASC,OAJJ,cAIlBC,EAJkB,yBAKjBA,EAAKC,SALY,kCAOxBC,QAAQC,IAAR,KAAmB,gBAPK,0DAAH,qDAYZC,EAAY,mCAAG,WAAMC,GAAN,2FAElBT,EAFkB,UAETF,EAFS,gCAEuBD,EAFvB,iCAEuDY,EAFvD,iCAGDR,MAAMD,GAHL,cAGlBE,EAHkB,gBAILA,EAASC,OAJJ,cAIlBC,EAJkB,yBAKjBA,EAAKC,SALY,kCAOxBC,QAAQC,IAAR,MAPwB,0DAAH,sDAYZG,EAAS,mCAAG,WAAMC,GAAN,2FAEfX,EAFe,UAENF,EAFM,iBAEWa,EAFX,oBAE8Bd,EAF9B,4BAGEI,MAAMD,GAHR,cAGfE,EAHe,gBAIFA,EAASC,OAJP,cAIfC,EAJe,yBAKdA,GALc,kCAOrBQ,EAAAA,GAAAA,MAAY,0BACZN,QAAQC,IAAR,MARqB,0DAAH,sDAaTM,EAAY,mCAAG,WAAMF,GAAN,2FAElBX,EAFkB,UAETF,EAFS,iBAEQa,EAFR,4BAEmCd,EAFnC,4BAGDI,MAAMD,GAHL,cAGlBE,EAHkB,gBAILA,EAASC,OAJJ,cAIlBC,EAJkB,yBAKjBA,GALiB,kCAOxBQ,EAAAA,GAAAA,MAAY,0BACZN,QAAQC,IAAR,MARwB,0DAAH,sDAaZO,EAAY,mCAAG,WAAMH,GAAN,2FAElBX,EAFkB,UAETF,EAFS,iBAEQa,EAFR,4BAEmCd,EAFnC,mCAGDI,MAAMD,GAHL,cAGlBE,EAHkB,gBAILA,EAASC,OAJJ,cAIlBC,EAJkB,yBAKjBA,GALiB,kCAOxBQ,EAAAA,GAAAA,MAAY,0BACZN,QAAQC,IAAR,MARwB,0DAAH,qD,qDCxDnBQ,EAAY,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,EAAWH,EAAMI,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OAAmB,yBAC1C,SAAC,KAAD,CAAMC,MAAO,CAACC,KAAMP,GAAWQ,GAAE,kBAAaJ,GAA9C,SAAqDC,KADFD,EAA5B,IAG3B,OAAO,wBAAKF,GACf,EAED,MAEAJ,EAAUW,aAAe,CACrBV,MAAM,G,wJCZV,EAA4B,wB,SCyD5B,EArDa,WACT,OAA0BW,EAAAA,EAAAA,UAAS,CAC/BX,MAAO,GACPY,SAAS,EACTC,MAAO,OAHX,eAAON,EAAP,KAAcO,EAAd,MAMAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAU,mCAAG,oGAEXF,GAAS,SAAAG,GAAS,yBACfA,GADe,IAEdL,SAAS,EACZC,MAAO,MAHU,IAFP,UAOU9B,EAAAA,EAAAA,MAPV,OAOLmC,EAPK,OAQXJ,GAAS,SAAAG,GACL,OAAO,kBACAA,GADP,IAEIjB,MAAM,GAAD,eAAMiB,EAAUjB,QAAhB,OAA0BkB,KAEtC,IAbU,gDAeXJ,GAAS,SAAAG,GAAS,yBACfA,GADe,IAEdJ,MAAK,MAFS,IAfP,yBAqBXC,GAAS,SAAAG,GACL,OAAO,kBACAA,GADP,IAEIL,SAAS,GAEhB,IA1BU,4EAAH,qDA6BhBI,GACH,GAAE,CAACF,IAEJ,IAAQd,EAA0BO,EAA1BP,MAAOY,EAAmBL,EAAnBK,QAASC,EAAUN,EAAVM,MAExB,OACI,iBAAKM,UAAWC,EAAhB,WACI,2CACCpB,EAAMqB,OAAS,IAAK,SAACtB,EAAA,EAAD,CAAWC,MAAOA,IACtCY,IAAW,yCACXC,IAAS,kDAIrB,C","sources":["components/ApiFetch/ApiFetch.js","components/MovieList/MovieList.jsx","webpack://react-homework-template/./src/pages/Home/Home.module.css?1370","pages/Home/Home.jsx"],"sourcesContent":["// key: bb3421bd0819dc82dbf8039d45c8f34c\n\nimport toast from 'react-hot-toast';\n\nconst API_KEY = 'bb3421bd0819dc82dbf8039d45c8f34c';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\n// метод получения массива популярных фильмов. Total_pages = 1000 по дефолту.\nexport const fetchPopular = async () => {\n  try {\n    const url = `${BASE_URL}trending/movie/day?api_key=${API_KEY}`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data.results;\n  } catch (error) {\n    console.log(error, 'fetchPopular');\n  }\n};\n\n// метод получения массива фильмов по запросу.\nexport const fetchByQuery = async searchQuery => {\n  try {\n    const url = `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${searchQuery}&include_adult=false`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// метод получения инфо о фильме по айдишке\nexport const fetchById = async movieId => {\n  try {\n    const url = `${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    toast.error('Something vent wrong:(');\n    console.log(error);\n  }\n};\n\n// актеры\nexport const fetchCredits = async movieId => {\n  try {\n    const url = `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    toast.error('Something vent wrong:(');\n    console.log(error);\n  }\n};\n\n//отзывы\nexport const fetchReviews = async movieId => {\n  try {\n    const url = `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    toast.error('Something vent wrong:(');\n    console.log(error);\n  }\n};","import { Link, useLocation } from \"react-router-dom\";\n\nconst MovieList = ({ items }) => {\n    const location = useLocation();\n    const elements = items.map(({ id, title }) => <li key={id}>\n        <Link state={{from: location}} to={`/movies/${id}`}>{title}</Link>\n    </li>);\n    return <ul>{elements}</ul>\n}\n\nexport default MovieList;\n\nMovieList.defaultProps = {\n    items:[]\n}","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Home_container__w+u63\"};","import { useEffect, useState } from \"react\";\nimport { fetchPopular } from '../../components/ApiFetch/ApiFetch.js';\nimport MovieList from \"components/MovieList/MovieList.jsx\";\nimport s from \"../Home/Home.module.css\";\n\nconst Home = () => {\n    const [state, setState] = useState({\n        items: [],\n        loading: false,\n        error: null,\n    });\n\n    useEffect(() => {\n        const fetchMovie = async () => {            \n            try {\n                setState(prevState => ({\n                ...prevState,\n                    loading: true,\n                 error: null,\n            }));\n                const result = await fetchPopular();\n                setState(prevState => {\n                    return {\n                        ...prevState,\n                        items: [...prevState.items, ...result]\n                    }\n                })\n            } catch (error) {\n                setState(prevState => ({\n                ...prevState,\n                    error,\n                }))\n            }\n            finally {\n                setState(prevState => {\n                    return {\n                        ...prevState,\n                        loading: false,\n                    }\n                })\n            }\n        };\n        fetchMovie();\n    }, [setState]);\n\n    const { items, loading, error } = state;\n    \n    return (\n        <div className={s.container}>\n            <h2>Trending today</h2>\n            {items.length > 0 && <MovieList items={items}/>}\n            {loading && <p>...load Movie</p>}\n            {error && <p>...Movie load failed</p>}\n\n    </div>\n)\n}\n\nexport default Home;\n\n"],"names":["API_KEY","BASE_URL","fetchPopular","url","fetch","response","json","data","results","console","log","fetchByQuery","searchQuery","fetchById","movieId","toast","fetchCredits","fetchReviews","MovieList","items","location","useLocation","elements","map","id","title","state","from","to","defaultProps","useState","loading","error","setState","useEffect","fetchMovie","prevState","result","className","s","length"],"sourceRoot":""}